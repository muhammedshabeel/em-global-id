<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Emarath Digital ID</title>

  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <main class="page">
    <div class="card-wrap">
      <section class="card" id="cardRoot">

        <!-- HERO IMAGE -->
        <div class="hero">
          <img id="profilePhoto" src="assets/photos/default.jpg" alt="Profile Photo" />

          <!-- LOGO BOTTOM-RIGHT (no white bg if your css updated) -->
          <div class="brand">
            <img src="assets/brand/logo.jpg" alt="Emarath Logo" />
          </div>
        </div>

        <!-- CARD CONTENT -->
        <div class="content">
          <h1 class="name" id="fullName">Loading...</h1>
          <div class="role" id="role">Loading...</div>
          <div class="company" id="company">Loading...</div>

          <!-- ACTION BUTTONS -->
          <div class="actions">
            <button class="btn btn-primary" id="saveBtn" type="button">
              ⬇ Save Contact
            </button>

            <button class="btn btn-ghost" id="shareBtn" type="button">
              ↗ Share
            </button>
          </div>

          <!-- CONTACT ROWS -->
          <div class="rows">
            <a class="row" id="emailRow" href="#" target="_blank" rel="noopener">
              <div class="icon" aria-hidden="true">
                <!-- mail icon -->
                <svg viewBox="0 0 24 24">
                  <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"/>
                </svg>
              </div>
              <div class="meta">
                <div class="label">Email</div>
                <div class="value" id="emailText">—</div>
              </div>
            </a>

            <a class="row" id="phoneRow" href="#" target="_blank" rel="noopener">
              <div class="icon" aria-hidden="true">
                <!-- phone icon -->
                <svg viewBox="0 0 24 24">
                  <path d="M6.62 10.79a15.05 15.05 0 006.59 6.59l2.2-2.2a1 1 0 011.02-.24c1.12.37 2.33.57 3.57.57a1 1 0 011 1V20a1 1 0 01-1 1C10.07 21 3 13.93 3 5a1 1 0 011-1h3.5a1 1 0 011 1c0 1.24.2 2.45.57 3.57a1 1 0 01-.24 1.02l-2.21 2.2z"/>
                </svg>
              </div>
              <div class="meta">
                <div class="label">Phone</div>
                <div class="value" id="phoneText">—</div>
              </div>
            </a>

            <a class="row" id="waRow" href="#" target="_blank" rel="noopener">
              <div class="icon" aria-hidden="true">
                <!-- whatsapp icon -->
                <svg viewBox="0 0 24 24">
                  <path d="M16.6 14.3c-.2-.1-1.3-.6-1.5-.7-.2-.1-.4-.1-.6.1-.2.2-.7.7-.8.8-.1.1-.3.1-.5 0-.2-.1-1-.4-1.9-1.2-.7-.6-1.2-1.4-1.3-1.6-.1-.2 0-.4.1-.5l.4-.4c.1-.1.2-.3.3-.4.1-.2 0-.3 0-.5-.1-.1-.6-1.4-.8-1.9-.2-.5-.4-.4-.6-.4h-.5c-.2 0-.5.1-.7.3-.2.2-.9.9-.9 2.1s.9 2.4 1.1 2.6c.1.2 1.8 2.8 4.4 3.9.6.3 1.1.5 1.5.6.6.2 1.1.2 1.5.1.5-.1 1.3-.5 1.5-1 .2-.5.2-1 .1-1.1-.1-.2-.2-.2-.4-.3zM12 2a10 10 0 00-8.6 15.1L2 22l5-1.3A10 10 0 1012 2zm0 18a8 8 0 01-4.1-1.1l-.3-.2-2.9.8.8-2.8-.2-.3A8 8 0 1112 20z"/>
                </svg>
              </div>
              <div class="meta">
                <div class="label">WhatsApp</div>
                <div class="value" id="waText">Message on WhatsApp</div>
              </div>
            </a>
          </div>

          <div class="footer" id="footerText">Emarath Global Pvt Ltd</div>
        </div>
      </section>
    </div>
  </main>

  <script src="card.js"></script>

  <script>
    // Save contact button trigger from card.js function
    document.getElementById("saveBtn").addEventListener("click", () => {
      if (window.downloadVCard) {
        window.downloadVCard();
      } else {
        alert("VCard generator not found. Check card.js");
      }
    });

    // Share button
    document.getElementById("shareBtn").addEventListener("click", async () => {
      const url = window.location.href;

      try {
        if (navigator.share) {
          await navigator.share({ title: document.title, url });
        } else {
          await navigator.clipboard.writeText(url);
          alert("Link copied ✅");
        }
      } catch (e) {
        console.log(e);
      }
    });
  </script>
</body>
</html>
